---
layout: article
---
Как видишь я дописываю сюда еще имя пользователя и токен, который сгенерировал шаг назад. Имя `admin` , потом разделитель двоеточие и далее сам токен.

`java -jar jenkins-cli.jar -auth admin:11c86545c710805e5110d834d65bce485d -s http://158.160.98.100:8080/ help`

В ключе `-auth` вместо токена можно также указать пароль юзера, это тоже сработает.

Теперь запущу команду. Как видишь `help` выдает полный список команд, которые доступны для вызова через CLI.

Давай запустим еще что-то, например вызовем список плагинов. Сначала я вызову помощь и отфильтрую все, что как-то связано с плагинами:

`java -jar jenkins-cli.jar -auth admin:11e755ba88aeeab6c5842e52985c204d5e -s http://localhost:8085 help 2>&1 | grep plugin`

Наша команда `list-plugins`. Давай вызовем ее. 

По умолчанию запросы используют соединение через `websoket` , но не все реверс-прокси разрешают это. Чтобы сделать это по `http` добавь флаг, как ты видишь

`java -jar jenkins-cli.jar -auth admin:11e755ba88aeeab6c5842e52985c204d5e -http -s http://localhost:8085 list-plugins`

Ок, теперь давай создадим новую `job`.

Это означает, мы просто собираемся создать новое задание для Jenkins. Например такое, как новый конвейер CI/CD.

Но сначала я запрошу список заданий при помощи команды `list-jobs`.

Как видишь, пока здесь пусто.

Перейду в UI и в Jenkins дэшборд выберу пункт `New Item`.
