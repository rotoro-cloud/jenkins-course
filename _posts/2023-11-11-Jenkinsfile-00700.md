---
layout: article
---
Вот здесь у нас этапы `DEV`, `UAT`, `PROD` справа. Они находятся в одном Jenkinsfile, и он так настроен, что stages исполняются друг за другом. В данный момент, если какая-то stage падает, весь пайплайн останавливается. Следующие за зафейленым этапы не исполняются, а сам билд помечается как неудавшийся.

Есть другой подход, когда Jenkinsfile описывает только одну стадию, т.е. у нас будет один такой файл для `DEV`, второй для `UAT`, а третий для `PROD`. Это показано слева. По сути три разных пайплайна, которые следуют один за другим. По моему опыту, такое используется реже, но может быть удобно, когда нам нужно запустить отдельно функции развертывания единичной операцией, не запуская предыдущие. Как я говорил, каждый пайплайн индивидуален.

В многоступенчатых пайплайнах есть похожая вещь, когда любую успешную `stage` можно заново повторить. Но это работает с ограничениями, поэтому подход с одной стадией тоже имеет право на жизнь.

И напоследок, где хранится Jenkinsfile?
