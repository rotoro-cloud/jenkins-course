---
layout: article
---
Вернемся в UI Prometheus.
Теперь мы можем сделать запрос в Prometheus, чтобы получить значения по нужным нам и связанными с Jenkins показателям. Кроме Jenkins, к Prometheus может быть подключено еще 1001 разное приложение, которые также будут собирать свои метрики в одном месте, что очень удобно.

Итак, в блоке запроса, там где `Expression`, я пишу `default` и вижу отфильтрованные по этому слову метрики, доступные для запроса.

Выбираю `default_jenkins_builds_success_build_count_total`. Из названия понятно, что это как-то относится к количеству успешных сборок.

Посмотрим, что там. Для этого я нажму кнопку `Execute`, которая исполнит запрос. Как видишь, здесь мы видим успешные задания, это `cloud-build` и `first job`.

Если мы перейдем к дэшборду Jenkins, то увидим, что у нас здесь 3 задания, два из них успешны, и одно еще пока не запускалось. Так что все верно. И именно потому, что не все jobs успешны, мы и не увидели их в метрике `default_jenkins_builds_success_build_count_total`.

Но в других метриках, которые относятся к общему количеству jobs, мы увидим, что здесь их три, т.е. учтены все задания.

Показателей, связанных с Jenkins довольно много, ты можешь познакомится с ними всеми, введя `jenkins` и прокрутив выпадающий список, а потом сделать запрос к нужным именно тебе. С их помощью мы сможем узнать не только о том, чем занят Jenkins, но также о здоровье сервера или о загрузке его агентов.

Ну вот и всё в этом демо. Отправляйся в лабораторную и самостоятельно подключи связку `Prometheus` и `Grafana` для работы с Jenkins.
