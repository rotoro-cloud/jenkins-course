---
layout: article
---
Сначала попробуем первый вариант groovy-переменными. Я перейду в Blue Ocean, создам пайплайн `features`, в качестве системы укажу git и название нашего репо. Будет создан мультибранчевый конвейер и Jenkins начнет сканировать репозиторий. 

Я перейду в настройки по кнопке с шестеренкой и в **`Build Configuration`** выставлю путь к Jenkinfile как `Jenkinsfile-8.10-1`. Ниже идет его содержимое, а сам файл ты найдешь в ветке `jenkinsfiles` репозитория:
```groovy
def cipher_suite = "TLS_AES_256_GCM_SHA384"
pipeline {
    agent any
    stages {
        stage('first') {
            steps {
                script {
                    echo cipher_suite
                    cipher_suite = "TLS_CHACHA20_POLY1305_SHA256"
                }
            }
        }
        stage('second') {
            steps {
                script {
                    echo cipher_suite
                }
            }
        }
    }
}
```

Самая первая инструкция определила глобальную переменную `cipher_suite`. Как мы говорили ранее в курсе, переменные в скриптовом стиле глобальны во всем пайплайне. Опять же, поскольку это скриптовый подход, нам придется использовать блок `script`, чтобы это работало.

В первой стадии мы выводим значение переменной, которую мы объявили ранее. После этого присваиваем ей другое значение. Из-за глобальной области видимости переменной, мы видим новое значение в стадии 2.

Также нам доступны переменные окружения сборочной среды. В третьей стадии я вывел `PATH` через скриптовый блок и декларативно. Лично мне удобнее использовать декларативное описание в виде переменных окружения. Взгляни на `Jenkinsfile-8.10-2`.
