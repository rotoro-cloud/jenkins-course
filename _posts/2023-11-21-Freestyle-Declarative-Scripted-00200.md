---
layout: article
---
Итак, в начале я хотел бы поговорить об отличиях `freestyle job` от `pipeline job`, а также об отличиях `declarative pipeline` от `scripted pipeline`.

**Freestyle Project** обычно используют для несложных операций, а также когда надо сделать быстро. Например таких, как запуск исполняемого скрипта в Windows или Linux. Также, в базовом варианте это может использовать триггеры Jenkins. Плагины могут расширить функционал, например, можно спуллить код, создать докер-образ, запустить `Maven` и т.д.

Обычно Freestyle Project это что-то небольшое, пара шагов с функционалом плагинов, слепленные посередине шагами со скриптами или полностью состоящие из скриптов.

Главные плюсы здесь:
-	пользователь может легко накликать себе задачу, ему не нужны лишние знания
-	администраторам не нужно следить за дополнительными плагинами, если на сервере используется только такой вид jobs. Но я лично такого не видел, чтобы кто-то жил только на freestyle.

Главные сложности здесь:
-	сложные задания трудно поддерживать и дебажить
-	мы не имеем нормальной истории пайплайна, а если и имеем, то через костыли
-	разработчик должен уметь читать/писать скрипты
-	используя скрипты, пользователь может повредить систему

Иногда поведение плагинов и прямой вызов могут сильно отличаться. Например `docker build`, вызванный через прямую команду в скрипте даст возможность работать с кэшем предыдущей сборки, но вызванные через метод плагина будет собирать все снова. С одной стороны мы можем получить сильную экономию по производительности, а с другой дыру в безопасности.

В отличие от **Freestyle**, **Pipeline** предлагает другой подход.

-	можно создать сложную логику со стадиями и условными операторами как в stages, так и в steps
-	описание самого конвейера может лежать в репо с кодом, что очень удобно
-	можно организовать gitflow
-	можно гибко настроить агенты сборки
-	можно использовать больше возможностей в плагинах
-	можно попросить Jenkins привести среду сборки к определенному виду, а не делать это самому.

Из минусов - большое количество плагинов, за которыми приходится следить администратору. Но если нужно, в пайплайне также можно выполнить прямую команду через конструкцию `script`. Т.е. не используя плагины.

На самом деле, возможностей выполнить что-то обычно три:
-	объявить декларативно
-	обратиться к плагину через скрипт
-	выполнить команду через плагин оболочки

Ок, думаю отличия между этими двумя типами ясны, но что такое `декларативно` и что такое `обратиться через скрипт`?
