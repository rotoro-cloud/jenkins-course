---
layout: article
---
Ранее мы создали `Jenkinsfile` и теперь он лежит в нашем репозитории. Я в сборках `go-webapp-sample` и здесь нажму на последний и единственный билд. Далее кликну на значок карандаша справа вверху. В этом редакторе мы создавали конвейер.

Как ты помнишь, в CI-конвейере мы устанавливали переменную `GO111MODULE` в `on`, качали код и запускали тесты при помощи `go test ./...`.

Сначала я выделю позицию `start` с левой части схемы. Справа в `Pipeline Settings` я добавлю переменную окружения в табличку, как ты видишь.

Теперь кликну на шарик с надписью `dev`. Я хочу, чтобы стадия называлась `test`, поэтому я переименую ее.

Ниже в `Steps` удаляю `Print Message` и добавляю шаг `Shell Script`. Сюда пишу команду для теста. Это уже хорошо знакомая нам команда, которую мы несколько раз использовали в своих предыдущих конвейерах. Сразу нажму `Save`. Меня спрашивают, в какую ветку я собираюсь коммитить и сообщение. Напишу, что обновил пайплайн до CI. Жму `Save & Run`.
