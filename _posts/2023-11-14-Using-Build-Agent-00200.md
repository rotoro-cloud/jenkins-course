---
layout: article
---
Сначала перейдем в Jenkins дэшборд и нажмём на новый элемент. Далее, как обычно, зададим ему название, это будет `ubuntu-test-pipeline`, выберем тип как `Freestyle project`. 

Теперь перемещаемся ниже первых опций и ищем пункт `Restrict where this project can be run`. Из названия понятно, что здесь мы как-то задаём ограничение на те ноды, где проект можно будет собирать. Нажмём и увидим, что в поле `Label Expression` мы можем задать метки, которые будет проверять Jenkins, назначая job на исполнение.

Здесь мы вставим название нашего агента сборки - `ubuntu-agent01`. 

Обрати внимание: внизу у нас появилась подсказка, что `ubuntu-agent01` совпадает с одной нодой. Если мы напишем что-то, что не будет относиться ни к одному агенту, Jenkins даст нам об этом знать. Например, я пишу `ubuntu-agent02`. Такого агента у нас нет. Я верну обратно `ubuntu-agent01`, и всё снова в порядке.

Здесь в **freestyle job** есть несколько пунктов, мы их не разбирали, но думаю после того, как ты познакомился с **pipeline jobs**, они не вызовут затруднений. То, что мы описывали ранее в Jenkinsfile, здесь выставляется в UI. Мы можем выбрать систему контроля версий, предустановить инструменты, задать шаги сборки и т.д. Сейчас нас интересует настройка агента для этого задания.

Далее перейдем в `Build` и выберем `Add build step`. Здесь есть несколько типовых шагов для популярных средств сборки, вроде Ant, Gradle и Maven, опции для работы с Docker, а также варианты для запуска bat-файлов для Windows и скриптов оболочки. 

Для этого задания мне потребуется `Execute shell`. В поле `Command` я введу `echo 'test my build agent'`. Больше ничего не требуется, я нажму `Save` и отправлю job на сборку.
